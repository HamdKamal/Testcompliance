try
{
    bool isValid = _authService.ValidateToken(out string uid, out string fullName);
    if (!isValid)
    {
        return new UnauthorizedObjectResult(new ApiResponse<object>
        {
            Success = false,
            Message = "دخول غير مصرح به"
        });
    }

    bool deleted = await _deleteFormSubmissionHandler.HandleAsync(submissionId);
    if (!deleted)
    {
        return NotFound(new ApiResponse<object>
        {
            Success = false,
            Message = $"لم يتم العثور على المسودة بالمعرف: {submissionId} أو لا يمكن حذفها."
        });
    }

    return Ok(new ApiResponse<object>
    {
        Success = true,
        Message = "تم حذف المسودة بنجاح."
    });
}
catch (Exception ex)
{
    return StatusCode(500, new ApiResponse<object>
    {
        Success = false,
        Message = "حدث خطأ أثناء حذف المسودة.",
        Error = ex.Message
    });
}
